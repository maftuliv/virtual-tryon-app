# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 401: invalid_client

## ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ: –ü—Ä–æ–±–ª–µ–º–∞ –≤ Google Cloud Console

–û—à–∏–±–∫–∞ `401: invalid_client - The OAuth client was not found` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ **Client ID –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Google Cloud Console** –∏–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º –ø—Ä–æ–µ–∫—Ç–µ.

---

## üéØ –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ OAuth Client

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Google Cloud Console

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://console.cloud.google.com/
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç: **Tap to look Virtual Try-On**
   - –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ, —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ OAuth Clients

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **APIs & Services** ‚Üí **Credentials**
2. –í —Ä–∞–∑–¥–µ–ª–µ **OAuth 2.0 Client IDs** –Ω–∞–π–¥–∏—Ç–µ Client ID:
   ```
   278663351028-qcrgf8j2d1lpce6kjamb4vtejq82mcg5.apps.googleusercontent.com
   ```

**–ï—Å–ª–∏ Client ID –ù–ï –ù–ê–ô–î–ï–ù:**
- –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –®–∞–≥—É 3 (—Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ)

**–ï—Å–ª–∏ Client ID –ù–ê–ô–î–ï–ù:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–Ω **–∞–∫—Ç–∏–≤–µ–Ω** (–Ω–µ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Redirect URI –¥–æ–±–∞–≤–ª–µ–Ω (—Å–º. –®–∞–≥ 4)

---

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ OAuth Client ID

1. –í —Ä–∞–∑–¥–µ–ª–µ **Credentials** –Ω–∞–∂–º–∏—Ç–µ **+ CREATE CREDENTIALS**
2. –í—ã–±–µ—Ä–∏—Ç–µ **OAuth client ID**

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ OAuth consent screen:**
- –ù–∞–∂–º–∏—Ç–µ **CONFIGURE CONSENT SCREEN**
- –í—ã–±–µ—Ä–∏—Ç–µ **External** (–¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
  - **App name:** `Tap to look Virtual Try-On`
  - **User support email:** –≤–∞—à email
  - **Developer contact information:** –≤–∞—à email
- –ù–∞–∂–º–∏—Ç–µ **SAVE AND CONTINUE**
- –í —Ä–∞–∑–¥–µ–ª–µ **Scopes** –Ω–∞–∂–º–∏—Ç–µ **SAVE AND CONTINUE** (–º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å)
- –í —Ä–∞–∑–¥–µ–ª–µ **Test users** –Ω–∞–∂–º–∏—Ç–µ **SAVE AND CONTINUE** (–º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å)
- –ù–∞–∂–º–∏—Ç–µ **BACK TO DASHBOARD**

3. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é OAuth Client ID:
   - **Application type:** `Web application`
   - **Name:** `Virtual Try-On Test Environment` (–∏–ª–∏ –ª—é–±–æ–µ –∏–º—è)

4. **Authorized JavaScript origins:**
   ```
   https://testbackendvirtualtryon-production.up.railway.app
   ```

5. **Authorized redirect URIs:**
   ```
   https://testbackendvirtualtryon-production.up.railway.app/api/auth/google/callback
   ```

6. –ù–∞–∂–º–∏—Ç–µ **CREATE**

7. **–í–ê–ñ–ù–û:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Your Client ID** (—Ñ–æ—Ä–º–∞—Ç: `123456789-abc...xyz.apps.googleusercontent.com`)
   - **Your Client Secret** (—Ñ–æ—Ä–º–∞—Ç: `GOCSPX-...`)

---

### –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ Railway Dashboard: https://railway.app/
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å: **test_backend_virtual_tryon**
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Variables** tab
5. –û–±–Ω–æ–≤–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

**–ï—Å–ª–∏ —Å–æ–∑–¥–∞–ª–∏ –ù–û–í–´–ô Client ID:**
```
GOOGLE_CLIENT_ID=<–Ω–æ–≤—ã–π_client_id>
GOOGLE_CLIENT_SECRET=<–Ω–æ–≤—ã–π_client_secret>
```

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô Client ID:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `GOOGLE_CLIENT_ID` —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Client ID –∏–∑ Google Console
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `GOOGLE_CLIENT_SECRET` —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Client Secret –∏–∑ Google Console

6. **–£–±–µ–¥–∏—Ç–µ—Å—å:**
   - –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ
   - –ó–Ω–∞—á–µ–Ω–∏—è –ù–ï –≤ –∫–∞–≤—ã—á–∫–∞—Ö
   - Client ID –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ `.apps.googleusercontent.com`

7. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

---

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ Redirect URI –≤ Google Cloud Console

**–ö–†–ò–¢–ò–ß–ù–û:** Redirect URI –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ Google Cloud Console!

1. –í Google Cloud Console –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à OAuth Client ID
2. –í —Ä–∞–∑–¥–µ–ª–µ **Authorized redirect URIs** –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å:
   ```
   https://testbackendvirtualtryon-production.up.railway.app/api/auth/google/callback
   ```

3. –ï—Å–ª–∏ URI –Ω–µ—Ç:
   - –ù–∞–∂–º–∏—Ç–µ **+ ADD URI**
   - –í–≤–µ–¥–∏—Ç–µ: `https://testbackendvirtualtryon-production.up.railway.app/api/auth/google/callback`
   - –ù–∞–∂–º–∏—Ç–µ **SAVE**

4. **–í–ê–ñ–ù–û:** URI –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å –¢–û–ß–ù–û:
   - ‚úÖ `https://testbackendvirtualtryon-production.up.railway.app/api/auth/google/callback`
   - ‚ùå `https://testbackendvirtualtryon-production.up.railway.app/api/auth/google/callback/` (–ª–∏—à–Ω–∏–π —Å–ª—ç—à)
   - ‚ùå `http://testbackendvirtualtryon-production.up.railway.app/api/auth/google/callback` (http –≤–º–µ—Å—Ç–æ https)

---

### –®–∞–≥ 6: –û–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Google Cloud Console:
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ **1-2 –º–∏–Ω—É—Ç—ã** - Google –º–æ–∂–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Railway –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

---

### –®–∞–≥ 7: –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:
   ```bash
   curl https://testbackendvirtualtryon-production.up.railway.app/api/auth/google/status
   ```

2. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π authorization URL:
   ```bash
   curl https://testbackendvirtualtryon-production.up.railway.app/api/auth/google/login
   ```

3. –û—Ç–∫—Ä–æ–π—Ç–µ authorization URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ (—Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —ç–∫—Ä–∞–Ω —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π Google (consent screen)
- ‚ùå –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –æ—à–∏–±–∫–∞ 401 - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –µ—â–µ —Ä–∞–∑ Client ID –∏ –ø—Ä–æ–µ–∫—Ç

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Google Cloud

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç:

1. –í Google Cloud Console –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ "Tap to look Virtual Try-On":
   - –õ–∏–±–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
   - –õ–∏–±–æ —Å–æ–∑–¥–∞–π—Ç–µ OAuth Client –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Google OAuth Playground

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://developers.google.com/oauthplayground/
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ (‚öôÔ∏è) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à Client ID –∏ Client Secret
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ª—É—á–∏—Ç—å authorization code

–ï—Å–ª–∏ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –Ω–µ –≤ Google.

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [ ] –û—Ç–∫—Ä—ã–ª Google Cloud Console
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ OAuth Clients
- [ ] –°–æ–∑–¥–∞–ª –Ω–æ–≤—ã–π OAuth Client (–µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω)
- [ ] –î–æ–±–∞–≤–∏–ª Redirect URI –≤ Google Console
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–ª Client ID –∏ Secret
- [ ] –û–±–Ω–æ–≤–∏–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Railway
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤
- [ ] –ü–æ–¥–æ–∂–¥–∞–ª 1-2 –º–∏–Ω—É—Ç—ã
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª authorization URL —Å–Ω–æ–≤–∞

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Client ID –∏ Secret —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É –∏ –ø—Ä–æ–±–µ–ª–∞–º**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–ø–∏—Ä—É–µ—Ç–µ —Ç–æ—á–Ω–æ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤

2. **Redirect URI –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å –¢–û–ß–ù–û**
   - –í–∫–ª—é—á–∞—è –ø—Ä–æ—Ç–æ–∫–æ–ª (https)
   - –í–∫–ª—é—á–∞—è –ø—É—Ç—å (/api/auth/google/callback)
   - –ë–µ–∑ trailing slash

3. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Google Console –º–æ–≥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π**
   - –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç**
   - Client ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ç–æ–º –∂–µ –ø—Ä–æ–µ–∫—Ç–µ, —á—Ç–æ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway:**
   - –ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏ —Å `[GOOGLE-AUTH]`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Client ID –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ Railway
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ `/api/auth/google/status`

3. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π OAuth Client:**
   - –ò–Ω–æ–≥–¥–∞ –ø—Ä–æ—â–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π, —á–µ–º –∏—Å–∫–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ OAuth Consent Screen:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ consent screen –Ω–∞—Å—Ç—Ä–æ–µ–Ω
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

---

*–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ 401: invalid_client*


