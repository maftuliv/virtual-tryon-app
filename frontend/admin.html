<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å - TapToLook</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/admin.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
    <div class="admin-container">
        <!-- Header -->
        <header class="admin-header">
            <div class="admin-header-content">
                <h1>üõ°Ô∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h1>
                <div class="admin-header-actions">
                    <span class="admin-user-info" id="adminUserInfo"></span>
                    <button class="btn btn-secondary" id="adminLogoutBtn" onclick="handleLogout()" title="–í—ã–π—Ç–∏ –∏–∑ –∞–¥–º–∏–Ω–∫–∏" style="display: none;">
                        ‚á¶ –í—ã–π—Ç–∏
                    </button>
                    <a href="/" class="btn btn-secondary">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
                </div>
            </div>
        </header>

        <!-- Simple admin login form (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –∞–¥–º–∏–Ω-—Å–µ—Å—Å–∏–∏ –Ω–µ—Ç) -->
        <div id="adminLoginContainer" class="admin-login-container" style="display: none;">
            <div class="admin-login-card">
                <h2>–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω–∫—É</h2>
                <p class="admin-login-subtitle">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∞–¥–º–∏–Ω—Å–∫–∏–π –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å. –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞.</p>
                <form id="adminLoginForm">
                    <div class="form-group">
                        <input type="email" id="adminLoginEmail" class="form-input" placeholder="Admin email" required>
                    </div>
                    <div class="form-group">
                        <input type="password" id="adminLoginPassword" class="form-input" placeholder="–ü–∞—Ä–æ–ª—å" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">–í–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É</button>
                    <div id="adminLoginError" class="auth-error" style="margin-top: 8px;"></div>
                </form>
            </div>
        </div>

        <!-- Main Content -->
        <main class="admin-content" id="adminMainContent" style="display: none;">
            <!-- Navigation Tabs -->
            <nav class="admin-tabs">
                <button class="admin-tab active" data-tab="dashboard">üìä –î–∞—à–±–æ—Ä–¥</button>
                <button class="admin-tab" data-tab="users">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
                <button class="admin-tab" data-tab="feedback">üí¨ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</button>
                <button class="admin-tab" data-tab="audit">üìã –ê—É–¥–∏—Ç</button>
            </nav>

            <!-- Dashboard Tab -->
            <section class="admin-section active" id="dashboard-section">
                <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-grid" id="statsGrid">
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-value" id="usersTotal">-</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-value" id="premiumTotal">-</div>
                        <div class="stat-label">Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üé®</div>
                        <div class="stat-value" id="generationsToday">-</div>
                        <div class="stat-label">–ì–µ–Ω–µ—Ä–∞—Ü–∏–π —Å–µ–≥–æ–¥–Ω—è</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí¨</div>
                        <div class="stat-value" id="feedbackPending">-</div>
                        <div class="stat-label">–ù–æ–≤—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π</div>
                    </div>
                </div>
            </section>

            <!-- Users Tab -->
            <section class="admin-section" id="users-section">
                <div class="section-header">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
                    <div class="search-box">
                        <input type="text" id="userSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ email –∏–ª–∏ –∏–º–µ–Ω–∏...">
                    </div>
                </div>
                <div class="table-container">
                    <table class="admin-table" id="usersTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Email</th>
                                <th>–ò–º—è</th>
                                <th>–ü—Ä–æ–≤–∞–π–¥–µ—Ä</th>
                                <th>–†–æ–ª—å</th>
                                <th>Premium</th>
                                <th>–ì–µ–Ω–µ—Ä–∞—Ü–∏–π</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <tr><td colspan="8" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="pagination" id="usersPagination"></div>
            </section>

            <!-- Feedback Tab -->
            <section class="admin-section" id="feedback-section">
                <h2>–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h2>
                <div class="feedback-list" id="feedbackList">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
            </section>

            <!-- Audit Tab -->
            <section class="admin-section" id="audit-section">
                <h2>–ñ—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</h2>
                <div class="table-container">
                    <table class="admin-table" id="auditTable">
                        <thead>
                            <tr>
                                <th>–í—Ä–µ–º—è</th>
                                <th>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</th>
                                <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                                <th>–¶–µ–ª—å</th>
                                <th>IP</th>
                                <th>–î–µ—Ç–∞–ª–∏</th>
                            </tr>
                        </thead>
                        <tbody id="auditTableBody">
                            <tr><td colspan="6" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <script src="/auth.js"></script>
    <script src="/admin.js"></script>
</body>
</html>
